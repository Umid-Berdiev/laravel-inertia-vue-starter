import{a as m,c,v as O,x as i,s as D,y as l,b as v,d as g,t as u,j as _,g as $,F as R,k as T,z as V,A as q,e as w,w as N,q as E,B as z}from"./app.ee5917d6.js";const M={show:"Show",entries:"entries",previous:"Previous",next:"Next",showing:"Showing",showingTo:"to",showingOf:"of",showingEntries:"entries"},j="...";function H(s,a,t){let e;return function(){const r=this,n=arguments;clearTimeout(e),t&&!e&&s.apply(r,n),e=setTimeout(function(){e=null,t||s.apply(r,n)},a)}}function L(s){for(const a in s)return!1;return!0}function J(s,a){const t=[],e=[];let r;if(t.push(1),s<=1)return t;for(let n=a-2;n<=a+2;n++)n<s&&n>1&&t.push(n);t.push(s);for(let n=0;n<t.length;n++)r&&(t[n]-r===2?e.push(r+1):t[n]-r!==1&&e.push(j)),e.push(t[n]),r=t[n];return e}function Q(s,a={}){const t=[];let e;const r=s.length;return s=s.map(function(n,d){return n[0]==="-"?(t[d]=-1,n=n.substring(1)):t[d]=1,n}),function(n,d){for(e=0;e<r;e++){const o=s[e],f=a[o]?a[o](n.value[o]):n.value[o],x=a[o]?a[o](d.value[o]):d.value[o];if(f>x)return t[e];if(f<x)return-t[e]}return 0}}function U(s,a){for(const t in a)s=s.filter(function(e){const r=e.value;for(const n in r)if(n===t){if(typeof a[t]=="function")return a[t](r[n]);if(a[t]===""||r[n]===a[t])return!0}return!1});return s}function W(s,a,t,e){e=String(e).toLowerCase();for(const r in t)if(s.length===0||s.indexOf(r)!==-1){const n=String(t[r]).toLowerCase();for(const d in a)if(d===r&&typeof a[d]=="function"){const o=a[d](n,e,t);if(o===!0)return o}if(n.indexOf(e)>=0)return!0}return!1}const P=(s,a)=>{const t=s.__vccOpts||s;for(const[e,r]of a)t[e]=r;return t},X={props:{dsData:{type:Array,default:()=>[]},dsFilterFields:{type:Object,default:()=>({})},dsSortby:{type:Array,default:()=>[]},dsSearchIn:{type:Array,default:()=>[]},dsSearchAs:{type:Object,default:()=>({})},dsSortAs:{type:Object,default:()=>({})}},setup(s){const a=m(1),t=m(""),e=m(10),r=m(M),n=m([]),d=p=>{t.value=p},o=async p=>{e.value=p,await z(),a.value>I.value&&f(y.value[y.value.length-1])},f=p=>{a.value=p},x=c(()=>(s.dsData,t.value,s.dsSortby,s.dsFilterFields,s.dsSearchIn,s.dsSearchAs,s.dsSortAs,Date.now())),C=c(()=>n.value.slice(A.value,k.value)),y=c(()=>J(I.value,a.value)),S=c(()=>n.value.length),I=c(()=>Math.ceil(S.value/e.value)),A=c(()=>(a.value-1)*e.value),k=c(()=>a.value*e.value);return O(S,(p,B)=>{f(1)}),O(x,(p,B)=>{let h=[];!t.value&&!s.dsSortby.length&&L(s.dsFilterFields)?h=s.dsData.map((b,F)=>F):(h=s.dsData.map((b,F)=>({index:F,value:b})),L(s.dsFilterFields)||(h=U(h,s.dsFilterFields)),t.value&&(h=h.filter(b=>W(s.dsSearchIn,s.dsSearchAs,b.value,t.value))),s.dsSortby.length&&h.sort(Q(s.dsSortby,s.dsSortAs)),h=h.map(b=>b.index)),n.value=h},{immediate:!0}),i("dsIndexes",n),i("search",d),i("showEntries",o),i("setActive",f),i("datasetI18n",r),i("dsData",c(()=>s.dsData)),i("dsRows",C),i("dsPages",y),i("dsResultsNumber",S),i("dsPagecount",I),i("dsFrom",A),i("dsTo",k),i("dsPage",a),{dsIndexes:n,dsShowEntries:e,dsResultsNumber:S,dsPage:a,dsPagecount:I,dsFrom:A,dsTo:k,dsRows:C,dsPages:y,search:d,showEntries:o,setActive:f}}};function Y(s,a,t,e,r,n){return D(s.$slots,"default",{ds:{dsIndexes:e.dsIndexes,dsShowEntries:e.dsShowEntries,dsResultsNumber:e.dsResultsNumber,dsPage:e.dsPage,dsPagecount:e.dsPagecount,dsFrom:e.dsFrom,dsTo:e.dsTo,dsData:t.dsData,dsRows:e.dsRows,dsPages:e.dsPages,search:e.search,showEntries:e.showEntries,setActive:e.setActive}})}const me=P(X,[["render",Y]]),Z={setup(){const s=l("dsResultsNumber"),a=l("dsFrom"),t=l("dsTo"),e=c(()=>s.value!==0?a.value+1:0),r=c(()=>t.value>=s.value?s.value:t.value);return{datasetI18n:l("datasetI18n"),dsResultsNumber:s,showing:e,showingTo:r}}};function G(s,a,t,e,r,n){return v(),g("div",null,u(e.datasetI18n.showing)+" "+u(e.showing)+" "+u(e.datasetI18n.showingTo)+" "+u(e.showingTo)+" "+u(e.datasetI18n.showingOf)+" "+u(e.dsResultsNumber)+" "+u(e.datasetI18n.showingEntries),1)}const we=P(Z,[["render",G]]),K={props:{tag:{type:String,default:"div"}},setup(){const s=c(()=>{const a=[];for(let t=l("dsFrom").value;t<l("dsTo").value;t++)a.push(t);return a});return{dsData:l("dsData"),dsRows:l("dsRows"),indexes:s}}};function ee(s,a,t,e,r,n){return v(),_(q(t.tag),null,{default:$(()=>[(v(!0),g(R,null,T(e.dsRows,(d,o)=>D(s.$slots,"default",{row:e.dsData[d],rowIndex:d,index:e.indexes[o]})),256)),e.dsRows.length?V("",!0):D(s.$slots,"noDataFound",{key:0})]),_:3})}const be=P(K,[["render",ee]]),se={setup(){const s=m(j),a=l("dsPage"),t=l("dsPagecount"),e=c(()=>a.value===1),r=c(()=>a.value===t.value||t.value===0);return{datasetI18n:l("datasetI18n"),setActive:l("setActive"),dsPages:l("dsPages"),dsPagecount:t,dsPage:a,morePages:s,disabledPrevious:e,disabledNext:r}}},te={class:"pagination"},ae=["tabindex","aria-disabled"],ne=["onClick"],re={key:1,class:"page-link"},de=["tabindex","aria-disabled"];function oe(s,a,t,e,r,n){return v(),g("ul",te,[w("li",{class:E(["page-item",e.disabledPrevious&&"disabled"])},[w("a",{class:"page-link",href:"#",tabindex:e.disabledPrevious?"-1":null,"aria-disabled":e.disabledPrevious?"true":null,onClick:a[0]||(a[0]=N(d=>e.setActive(e.dsPage!==1&&e.dsPagecount!==0?e.dsPage-1:e.dsPage),["prevent"]))},u(e.datasetI18n.previous),9,ae)],2),(v(!0),g(R,null,T(e.dsPages,(d,o)=>(v(),g("li",{key:o,class:E(["page-item",d===e.dsPage&&"active",d===e.morePages&&"disabled"])},[d!==e.morePages?(v(),g("a",{key:0,class:"page-link",href:"#",onClick:N(f=>e.setActive(d),["prevent"])},u(d),9,ne)):(v(),g("span",re,u(d),1))],2))),128)),w("li",{class:E(["page-item",e.disabledNext&&"disabled"])},[w("a",{class:"page-link",href:"#",tabindex:e.disabledNext?"-1":null,"aria-disabled":e.disabledNext?"true":null,onClick:a[1]||(a[1]=N(d=>e.setActive(e.dsPage!==e.dsPagecount&&e.dsPagecount!==0?e.dsPage+1:e.dsPage),["prevent"]))},u(e.datasetI18n.next),9,de)],2)])}const Pe=P(se,[["render",oe]]),le={props:{dsSearchPlaceholder:{type:String,default:""},wait:{type:Number,default:0}},setup(s){const a=l("search"),t=m(""),e=H(r=>{a(r)},s.wait);return{dsSearch:t,input:e}}},ue=["placeholder","value"];function ie(s,a,t,e,r,n){return v(),g("input",{type:"text",placeholder:t.dsSearchPlaceholder,class:"form-control",value:e.dsSearch,onInput:a[0]||(a[0]=d=>e.input(d.target.value))},null,40,ue)}const xe=P(le,[["render",ie]]),ce={props:{dsShowEntries:{type:Number,default:10},dsShowEntriesLovs:{type:Array,default:()=>[{value:5,text:5},{value:10,text:10},{value:25,text:25},{value:50,text:50},{value:100,text:100}]}},emits:["changed"],setup(s,{emit:a}){const t=l("showEntries"),e=r=>{a("changed",Number(r.target.value)),t(Number(r.target.value))};return t(Number(s.dsShowEntries)),{datasetI18n:l("datasetI18n"),change:e}}},ve={class:"form-inline"},ge=["value"],he=["value"];function fe(s,a,t,e,r,n){return v(),g("div",ve,[w("label",null,u(e.datasetI18n.show),1),w("select",{value:t.dsShowEntries,class:"form-control mr-1 ml-1",onChange:a[0]||(a[0]=(...d)=>e.change&&e.change(...d))},[(v(!0),g(R,null,T(t.dsShowEntriesLovs,d=>(v(),g("option",{key:d.value,value:d.value},u(d.text),9,he))),128))],40,ge),w("label",null,u(e.datasetI18n.entries),1)])}const ye=P(ce,[["render",fe]]);export{xe as P,we as _,be as b,me as w,ye as x,Pe as y};
