import{_ as I,c as N,r as y,u as z,a as A,o as R,b as l,d,e,t as s,f as i,g as k,h as j,w as O,i as u,F as $,k as x,l as B,p as q,m as T,M as U}from"./app.8f1a4e68.js";import{u as D}from"./useNotyf.d9892d78.js";import{_ as E}from"./Input.76c5081f.js";import{_ as G}from"./Button.ac1f6753.js";import{_ as S}from"./InputLabel.1c57481a.js";import{C as H}from"./ConfirmModal.754a5599.js";const _=c=>(q("data-v-4567ece8"),c=c(),T(),c),J={class:"content"},K={class:"d-flex justify-content-end"},P={type:"button",class:"btn btn-alt-primary","data-bs-toggle":"modal","data-bs-target":"#modal-confirm"},Q=_(()=>e("i",{class:"fa fa-download me-1"},null,-1)),W=_(()=>e("br",null,null,-1)),X={key:0,class:"text-center"},Y={key:1,class:"row"},Z={class:"col-md-12"},ee={class:"table-responsive"},te={class:"table table-striped mb-0"},oe=_(()=>e("th",{scope:"col"},"#",-1)),se={scope:"row"},ae={class:"d-flex gap-2"},ne=["onClick"],le=_(()=>e("i",{class:"si si-eye"},null,-1)),de=[le],ie=["onClick"],ce=_(()=>e("i",{class:"si si-pencil"},null,-1)),re=[ce],ue={class:"modal fade",id:"regionFormModal",tabindex:"-1","aria-labelledby":"regionFormModalLabel","aria-hidden":"true"},_e={class:"modal-dialog modal-dialog-popout"},me={class:"modal-content"},fe={class:"modal-header"},he={class:"modal-title",id:"regionFormModalLabel"},pe=_(()=>e("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"},null,-1)),be={class:"modal-body"},ve=["onSubmit"],ge={class:"row"},ye={class:"col-12 mb-3"},ze={class:"invalid-feedback animated fadeIn"},ke={class:"col-12 mb-3"},$e={class:"invalid-feedback animated fadeIn"},xe={class:"col-auto ms-auto"},Ee={__name:"Regions",props:{regions:{type:Array,default:()=>[]}},setup(c){const b=D(),f=N(()=>U.getOrCreateInstance("#regionFormModal")),C=y([{name:"Soato",field:"soato"},{name:"Name uz",field:"name_uz"}]),h=y({name_uz:"",name_ru:"",admincenter_uz:"",admincenter_ru:""}),o=z(h),p=A(!1);R(()=>{var a;(a=f.value)==null||a._element.addEventListener("hidden.bs.modal",m=>{o.reset(),o.clearErrors(),p.value=!1}),document.querySelectorAll("#datasetLength label").forEach(m=>{m.remove()});let t=document.querySelector("#datasetLength select");t&&(t.classList="",t.classList.add("form-select"))});async function M(){o.put(route("regions.update",h.id),{onSuccess:()=>{var t;b.success("Region successfully updated!"),o.reset(),o.clearErrors(),(t=f.value)==null||t.hide()},onError:t=>{b.error("Error while updating region!")}})}function V(t){var a;p.value=!0,Object.assign(h,t),o.name_uz=t.name_uz,o.name_ru=t.name_ru,o.admincenter_uz=t.admincenter_uz,o.admincenter_ru=t.admincenter_ru,(a=f.value)==null||a.toggle()}function F(t){z().get(route("districts.index",t))}function L(){location.href=route("regions.export")}return(t,a)=>{var m,v;return l(),d("div",J,[e("div",K,[e("button",P,[Q,e("span",null,s(t.$t("Export_to_excel")),1)])]),W,i(j,{title:t.$t("Regions_table"),"content-full":""},{default:k(()=>{var r;return[((r=c.regions)==null?void 0:r.length)==0?(l(),d("div",X,s(t.$t("No_data")),1)):(l(),d("div",Y,[e("div",Z,[e("div",ee,[e("table",te,[e("thead",null,[e("tr",null,[oe,(l(!0),d($,null,x(C,(n,g)=>(l(),d("th",{key:n.field},s(n.name),1))),128)),e("th",null,s(t.$t("Actions")),1)])]),e("tbody",null,[(l(!0),d($,null,x(c.regions,(n,g)=>(l(),d("tr",{key:n.id},[e("th",se,s(g+1),1),e("td",null,s(n.soato),1),e("td",null,s(n.name_uz),1),e("td",ae,[e("button",{type:"button",class:"btn btn-secondary w-auto",onClick:w=>F(n.id)},de,8,ne),e("button",{type:"button",class:"btn btn-secondary w-auto",onClick:w=>V(n)},re,8,ie)])]))),128))])])])])]))]}),_:1},8,["title"]),e("div",ue,[e("div",_e,[e("div",me,[e("div",fe,[e("h5",he,s(p.value?t.$t("Edit_region_data"):t.$t("Add_region_data")),1),pe]),e("div",be,[e("form",{onSubmit:O(M,["prevent"])},[e("div",ge,[e("div",ye,[i(S,{value:"Name uz"}),i(E,{type:"text",modelValue:u(o).name_uz,"onUpdate:modelValue":a[0]||(a[0]=r=>u(o).name_uz=r)},null,8,["modelValue"]),e("div",ze,s((m=u(o).errors)==null?void 0:m.name_uz),1)]),e("div",ke,[i(S,{value:"Admincenter uz"}),i(E,{type:"text",modelValue:u(o).admincenter_uz,"onUpdate:modelValue":a[1]||(a[1]=r=>u(o).admincenter_uz=r)},null,8,["modelValue"]),e("div",$e,s((v=u(o).errors)==null?void 0:v.admincenter_uz),1)]),e("div",xe,[i(G,null,{default:k(()=>[B(s(t.$t("Submit")),1)]),_:1})])])],40,ve)])])])]),i(H,{onConfirm:L})])}}},we=I(Ee,[["__scopeId","data-v-4567ece8"]]);export{we as default};
